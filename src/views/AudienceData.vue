<template>    <div class="title">数据概览</div>    <div class="info">        <div class="data-card">            <div :class="tabIndex === 0 ? 'data-detail card-active' : 'data-detail'" @click="tabIndex = 0">                <div class="name">粉丝量</div>                <div class="value">{{ allFanNum }}</div>            </div>        </div>        <div class="data-card">            <div :class="tabIndex === 1 ? 'data-detail card-active' : 'data-detail'" @click="tabIndex = 1">                <div class="name">新增关注</div>                <div class="value">{{ subscribeNum }}</div>            </div>        </div>        <div class="data-card">            <div :class="tabIndex === 2 ? 'data-detail card-active' : 'data-detail'" @click="tabIndex = 2">                <div class="name">新增粉丝</div>                <div class="value">{{ fanNum }}</div>            </div>        </div>    </div>    <div>        <LastSevenDaysNum v-if="tabIndex === 0" :url="GetLastSevenDaysFanData" :type="VIDEO_TYPE" desc="近7天粉丝数"/>        <LastSevenDaysNum v-if="tabIndex === 1" :url="GetLastSevenDaysSubscribeData" :type="VIDEO_TYPE" desc="近7日关注数"/>        <LastSevenDaysNum v-if="tabIndex === 2" :url="GetLastSevenDaysFanData" :type="VIDEO_TYPE" desc="近7日粉丝数"/>    </div></template><script>import {onMounted, ref} from 'vue'import request from '@/utils/request'import {GetFanNum, GetLastSevenDaysSubscribeData, VIDEO_TYPE, GetLastSevenDaysFanData} from '@/utils/Constant'import LastSevenDaysNum from '@/components/LastSevenDaysNum'export default {    name: 'AudienceData',    components: {LastSevenDaysNum},    setup() {        let tabIndex = ref(0)        let allFanNum = ref(0)        let subscribeNum = ref(0)        let fanNum = ref(0)        let userDetail = JSON.parse(localStorage.getItem('user'))        function init() {            request.get(`${GetFanNum}/${userDetail.id}`).then(res => {                if (res.data.code === 0) {                    allFanNum.value = res.data.data.fanNum                }            })            request.get(`${GetLastSevenDaysSubscribeData}/${VIDEO_TYPE}`).then(res => {                if (res.data.code === 0) {                    for (let value of Object.values(res.data.data)) {                        subscribeNum.value += parseInt(value.toString())                    }                }            })            request.get(`${GetLastSevenDaysFanData}/${VIDEO_TYPE}`).then(res => {                if (res.data.code === 0) {                    for (let value of Object.values(res.data.data)) {                        fanNum.value += parseInt(value.toString())                    }                }            })        }        onMounted(() => {            init()        })        return {            tabIndex,            allFanNum,            subscribeNum,            fanNum,            GetLastSevenDaysSubscribeData,            GetLastSevenDaysFanData,            VIDEO_TYPE,        }    }}</script><style scoped>.title {    margin-right: 4px;    color: #18191c;    font-weight: 600;    font-size: 18px;    line-height: 25px;}.info {    display: flex;    flex-wrap: wrap;    margin-top: 20px;}.data-card {    display: inline-block;    width: 195px;    height: 88px;    padding: 20px 6px;    vertical-align: middle;    position: relative;}.data-detail {    display: flex;    flex-direction: column;    justify-content: space-between;    width: 100%;    height: 100%;    box-sizing: border-box;    padding: 16px 16px 20px 16px;    color: #61666d;    cursor: pointer;    background-color: #fff;    border-radius: 16px;}.card-active {    background: #ff4684;    color: #fff;}.name {    font-size: 14px;    opacity: 0.8;}.value {    font-weight: 800;    font-size: 22px;    line-height: 22px;    box-sizing: border-box;    letter-spacing: 1px;}</style>