<template>    <Header/>    <div class="content">        <div class="watch-later-header">            <div class="header-left">                <img class="logo" :src="later" alt="">                <div class="title">稍后再看({{laterList.length}}/100)</div>            </div>            <div class="header-right"><!--                <div class="button">全部播放</div>-->                <div class="button" @click="deleteAll">一键清空</div>                <div class="button" @click="deleteView">移除已观看视频</div>            </div>        </div>        <WatchLaterItem v-for="(item, index) in laterList" :key="item.id" :item="item" :index="index + 1" @updateLaterList="updateLaterList"/>    </div></template><script>import Header from '@/components/Header'import later from '@/assets/later.png'import WatchLaterItem from '@/components/WatchLaterItem'import request from '@/utils/request'import {DeleteAllLater, DeleteViewLater, GetAllLater} from '@/utils/Constant'import {onMounted, reactive} from 'vue'export default {    name: 'WatchLaterPage',    components: {WatchLaterItem, Header},    setup() {        let laterList = reactive([])        function init() {            request.get(GetAllLater).then(res => {                if (res.data.code === 0) {                    laterList.length = 0                    laterList.push(...res.data.data)                }            })        }        onMounted(() => {            init()        })        function updateLaterList(val) {            let index = laterList.indexOf(val)            if (index !== -1) {                laterList.splice(index, 1)            }        }        function deleteAll() {            request.get(DeleteAllLater).then(res => {                if (res.data.code === 0) {                    laterList.length = 0                }            })        }        function deleteView() {            request.get(DeleteViewLater).then(res => {                if (res.data.code === 0) {                    init()                }            })        }        return {            laterList,            updateLaterList,            deleteAll,            deleteView,            later,        }    },}</script><style scoped>@media screen and (max-width: 1402px) {    .content {        width: 1101px;    }}@media screen and (min-width: 1402px) {    .content {        width: 1283px;    }}.content{    margin: 0 auto;}.logo {    width: 25px;    height: 25px;}.watch-later-header{    display: flex;    align-items: center;    justify-content: space-between;    margin-top: 30px;}.header-left{    display: flex;}.title {    font-size: 18px;    margin-left: 10px;}.button{    cursor: pointer;    background: #fff;    border: 1px solid #00a1d6;    display: inline-block;    padding: 5px;    color: #00a1d6;    text-align: center;    vertical-align: middle;    border-radius: 4px;    margin: 0 9px;    transition: all .2s;    font-size: 14px;}</style>