<template>    <Header/>    <div class="tabs">        <div :class="tabIndex === 1 ? 'tab active' : 'tab'" @click="tabIndex = 1">综合</div>        <div :class="tabIndex === 2 ? 'tab active' : 'tab'" @click="tabIndex = 2">视频</div>        <div :class="tabIndex === 3 ? 'tab active' : 'tab'" @click="tabIndex = 3">用户</div>    </div>    <VideoWindowItem/>    <Pagination :total="total" :pageNum="pageNum" @update="updatePage"/></template><script>import Header from '@/components/Header'import request from '@/utils/request'import {DynamicSearch} from '@/utils/Constant'import {onMounted, reactive, ref, watch} from 'vue'import {useRoute} from 'vue-router'import Pagination from '@/components/Pagination'import VideoWindowItem from '@/components/VideoWindowItem'export default {    name: 'Search',    components: {VideoWindowItem, Pagination, Header},    setup() {        let keyword = ref('')        let pageSize = ref(20)        let pageNum = ref(1)        let type = ref(0)        let total = ref(0)        let route = useRoute()        let list = reactive([])        let tabIndex = ref(1)        onMounted(() => {            keyword.value = route.query.keyword            init()        })        watch(() => route.query.keyword, (newVal) => {            keyword.value = newVal            init()        })        function init() {            request.post(DynamicSearch, {                pageSize: pageSize.value,                pageNum: pageNum.value,                keyword: keyword.value,                type: type.value,            }).then(res => {                console.log(res)                if (res.data.code === 0) {                    let page = res.data.data[0]                    list.length = 0                    console.log(page)                    res.data.data.splice(0, 1)                    list.push(...res.data.data)                }            })        }        function updatePage(value) {            pageNum.value = value            init()        }        return {            total,            pageNum,            list,            tabIndex,            updatePage,        }    },}</script><style scoped>.tabs {    display: flex;    width: 300px;    justify-content: space-around;}.tab {    font-size: 18px;    cursor: pointer;    position: relative;    height: 30px;}.tab:hover {    color: #23aedb;}.active:after{    background-color: #23aedb;    position: absolute;    bottom: 0;    left: 0;    right: 0;    content: "";    height: 3px;}.active{    color: #23aedb;}</style>