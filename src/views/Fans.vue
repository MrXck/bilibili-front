<template>    <div class="follow">        <div class="follows">全部</div>        <div class="content" v-for="(item, index) in fanList">            <img class="avatar" @click="to(`/space/${item.id}`)" :src="item.avatar === '' ? logo : item.avatar" alt="">            <div class="detail">                <div class="left" @click="to(`/space/${item.id}`)">                    <div class="username">{{ item.nickname }}</div>                    <div class="signature">{{ item.signature }}</div>                </div>                <div class="right">                    <span @click="removeFan(index, item.id)">取消</span>                </div>            </div>        </div>        <Pagination :total="total" :pageNum="pageNum" @update="updatePage"/>    </div></template><script>import logo from '@/assets/logo.png'import {onMounted, reactive, ref} from 'vue'import request from '@/utils/request'import {GetFan, RemoveFan} from '@/utils/Constant'import Pagination from '@/components/Pagination'import {useRoute, useRouter} from 'vue-router'export default {    name: 'Fans',    components: {Pagination},    setup() {        let fanList = reactive([])        let pageNum = ref(1)        let total = ref(0)        let pageSize = ref(20)        let route = useRoute()        let router = useRouter()        function init() {            request.post(GetFan, {                pageNum: pageNum.value,                pageSize: pageSize.value,                userId: route.params.id,            }).then(res => {                if (res.data.code === 0) {                    fanList.length = 0                    fanList.push(...res.data.data.users)                    total.value = res.data.data.page.pages                }            })        }        onMounted(() => {            init()        })        function updatePage(value) {            pageNum.value = value            init()        }        function to(path) {            window.open(router.resolve(path).href, '_blank')        }        function removeFan(index, id) {            request.get(`${RemoveFan}/${id}`).then(res => {                if (res.data.code === 0) {                    fanList.splice(index, 1)                }            })        }        return {            logo,            fanList,            total,            pageNum,            updatePage,            to,            removeFan,        }    },}</script><style scoped>.follow {    padding: 0 20px;    width: calc(100% - 179px);}.follows {    font-size: 18px;    padding: 20px 0;    border-bottom: #eeeeee solid 1px;}.content {    height: 60px;    padding: 20px 0;    display: flex;    border-bottom: #eeeeee solid 1px;}.detail {    display: flex;    justify-content: space-between;    padding: 10px 0;    width: 100%;}.avatar {    width: 60px;    height: 60px;    cursor: pointer;}.signature {    font-size: 14px;    color: #6d757a;}.left {    cursor: pointer;}.right {    background-color: #e5e9ef;    border-radius: 4px;    padding: 10px;    color: #6d757a;    cursor: pointer;    font-size: 14px;}.right:hover {    color: #23aedb;}</style>