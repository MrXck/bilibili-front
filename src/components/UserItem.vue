<template>    <div class="user">        <div class="picture">            <img class="img" :src="logo" alt="">        </div>        <div>            <div class="user-info" @click="to(`/space/${user.id}`)">                <img class="avatar" :src="user.avatar !== '' ? user.avatar : logo" alt="">                <div class="username">{{ user.nickname }}</div>            </div>            <div class="detail">                <div class="attention" @click="to(`/space/${user.id}/fans/follow`)">                    <span class="num">{{ subscribeNum }}</span>                    <span class="description">关注</span>                </div>                <div class="fans" @click="to(`/space/${user.id}/fans/fans`)">                    <span class="num">{{ fanNum }}</span>                    <span class="description">粉丝</span>                </div>                <div class="dynamic" @click="to(`/space/${user.id}/dynamic`)">                    <span class="num">{{ dynamicNum }}</span>                    <span class="description">动态</span>                </div>            </div>        </div>    </div></template><script>import logo from '@/assets/logo.png'import {onMounted, reactive, ref} from 'vue'import {GetDynamicNum, GetFanNum, GetSubscribeNum} from '@/utils/Constant'import request from '@/utils/request'import {useRouter} from 'vue-router'export default {    name: 'UserItem',    setup() {        let user = reactive(JSON.parse(localStorage.getItem('user'))) || {avatar: ''}        let dynamicNum = ref(0)        let fanNum = ref(0)        let subscribeNum = ref(0)        let router = useRouter()        function init() {            request.get(GetDynamicNum).then(res => {                if (res.data.code === 0) {                    dynamicNum.value = res.data.data.dynamicNum                }            })            request.get(`${GetSubscribeNum}/${user.id}`).then(res => {                if (res.data.code === 0) {                    subscribeNum.value = res.data.data.subscribeNum                }            })            request.get(`${GetFanNum}/${user.id}`).then(res => {                if (res.data.code === 0) {                    fanNum.value = res.data.data.fanNum                }            })        }        function to(path) {            window.open(router.resolve(path).href, '_blank')        }        onMounted(() => {            init()        })        return {            logo,            user,            dynamicNum,            fanNum,            subscribeNum,            to,        }    },}</script><style scoped>.user {    width: 244px;    height: 188px;    border-radius: 4px;    position: relative;    background-color: white;}.img {    width: 100%;    height: 64px;    border-top-left-radius: 4px;    border-top-right-radius: 4px;}.user-info {    display: flex;    align-items: center;    padding: 10px;    position: absolute;    top: 44px;}.avatar {    border-radius: 50%;    width: 56px;    height: 56px;    cursor: pointer;    flex: 1;}.username {    flex: 3;    padding-left: 10px;}.username:hover {    color: #23aedb;    cursor: pointer;}.detail {    padding: 10px;    display: flex;    align-items: center;    position: absolute;    bottom: 0;    justify-content: space-around;    width: 224px;}.detail div {    display: flex;    flex-direction: column;    margin: 10px;    text-align: center;    justify-content: center;}.num {    font-size: 14px;    font-weight: bold;    cursor: pointer;}.num:hover {    color: #23aedb;}.description {    font-size: 12px;    color: #a4acb3;    margin-top: 10px;}</style>