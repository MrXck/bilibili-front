<template>    <div class="item">        <div class="user">            <img class="avatar" @click="to(`/space/${item.user.id}`)" :src="item.user.avatar === '' ? logo : item.user.avatar"                 alt="">            <div class="info">                <div class="username" @click="to(`/space/${item.user.id}`)">{{ item.user.nickname }}</div>                <div class="create-time" v-if="item.dynamic.type === 0">                    {{ item.dynamic.createTime.replace('T', ' ').split('.')[0] }} · 发布了动态                </div>                <div class="create-time" v-if="item.dynamic.type === 1">                    {{ item.dynamic.createTime.replace('T', ' ').split('.')[0] }} · 投稿了视频                </div>                <div class="create-time" v-if="item.dynamic.type === 2">                    {{ item.dynamic.createTime.replace('T', ' ').split('.')[0] }} · 投稿了文章                </div>            </div>        </div>        <div class="video">            <div class="describe" v-if="!click">{{ item.dynamic.title }}</div>            <div class="describe click" v-if="click" @click="to(`/dynamicDetail/${item.dynamic.id}`)">{{ item.dynamic.title }}</div>            <DynamicVideoItem v-if="item.dynamic.type === 1" :item="item.dynamic"/>            <DynamicTextItem v-if="item.dynamic.type === 2" :item="item.dynamic"/>            <div class="option">                <div>                    <svg data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">                        <path                            d="M31.35 36.15H8.25A7.17 7.17 0 011 29.08v-18.5A7.18 7.18 0 018.25 3.5h13v3h-13A4.17 4.17 0 004 10.58v18.5a4.17 4.17 0 004.25 4.08h23.1a4.17 4.17 0 004.25-4.07V20.2h3v8.9a7.17 7.17 0 01-7.25 7.05z"                            fill="#99a2aa"/>                        <path                            d="M15 23.64l-2.78-1.13.56-1.39C14.82 16.07 20.57 11 27.59 11h4l-6.12-6 2.09-2.15L38.95 14H27.59c-5.63 0-10.4 4.27-12 8.3z"                            fill="#99a2aa"/>                    </svg>                    <span> </span>                </div>                <div @click="showComment = !showComment">                    <svg data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">                        <path                            d="M14.46 3.33h11.12c7.64 0 13.9 6 13.9 13.33S33.22 30 25.58 30h-.76l-7.28 6.67-2-6.67h-1.08C6.81 30 .56 24 .56 16.67S6.81 3.33 14.46 3.33zM36.7 16.67A10.91 10.91 0 0025.58 6H14.46A10.91 10.91 0 003.34 16.67a10.91 10.91 0 0011.12 10.66h3.19l.58 1.93.72 2.42 4-3.62.81-.74h1.88A10.91 10.91 0 0036.7 16.67z"                            fill="silver"/>                    </svg>                    <span>{{ commentNum }}</span>                </div>                <div v-show="!isStar" @click="star">                    <svg data-name="图层 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 38.89 34.47">                        <path                            d="M9.72 31.95h2.5V12.37h-2.5zM24.44 9.73h10.42a4.15 4.15 0 013.33 1.67 4.38 4.38 0 01.56 3.47L34.3 29.59a6.37 6.37 0 01-6 4.86H5a4.52 4.52 0 01-4.31-2.36 5.61 5.61 0 01-.69-2.5V14.73a4.93 4.93 0 012.5-4.31A8.38 8.38 0 015 9.73h6.25l6.8-8.49a3.83 3.83 0 016.64 2.94zm10.14 2.51H21.66l.28-2.92.42-5.14a1.26 1.26 0 00-.18-1 1.28 1.28 0 00-.82-.56 1.11 1.11 0 00-1.25.42l-6.36 8.2-.83 1.11H4.58a2 2 0 00-.83.28 2.28 2.28 0 00-1.25 2.08v14.88a2 2 0 00.42 1.25A2 2 0 005 31.95h23.33a2.38 2.38 0 001.39-.41 3.61 3.61 0 002.08-2.78l4.44-14.58 2.5.56-2.5-.56a2.45 2.45 0 00-.14-1.39 2.89 2.89 0 00-1.52-.54l.28-2.5z"                            fill="silver"/>                    </svg>                    <span>{{ starNum }}</span>                </div>                <div v-show="isStar" @click="unStar">                    <svg t="1636093991833" class="icon" viewBox="0 0 1024 1024"                         version="1.1"                         xmlns="http://www.w3.org/2000/svg" p-id="4447" width="200" height="200">                        <path                            d="M860.032 341.12h-182.08c7.488-17.408 14.72-38.528 18.048-60.544 5.952-39.872 4.992-87.36-18.368-129.088-21.76-38.848-50.304-60.928-83.52-61.376-30.72-0.384-53.888 18.176-65.728 33.408a199.296 199.296 0 0 0-32.064 59.264l-1.92 5.184c-5.44 14.976-10.88 29.952-23.04 51.456-19.712 34.816-48.832 56.128-77.696 74.368a391.936 391.936 0 0 1-30.976 17.92v552.448a4621.952 4621.952 0 0 0 351.872-5.312c51.264-2.752 100.672-28.544 127.488-76.032 24.32-43.136 55.168-108.16 74.368-187.264 20.416-84.16 24.64-152.704 24.576-195.968-0.128-46.336-38.72-78.4-80.96-78.4z m-561.344 541.312V341.12H215.808c-59.712 0-113.408 42.048-120.896 104.32a1376 1376 0 0 0 0.64 330.368c7.36 58.688 56.128 100.032 113.024 102.848 25.024 1.28 55.552 2.56 90.112 3.712z"                            p-id="4448" fill="#00aeec"></path>                    </svg>                    <span>{{ starNum }}</span>                </div>            </div>        </div>        <Comment v-if="showComment" :showPage="showPage" :dynamicId="item.dynamic.id" :toUserId="item.user.id"/>    </div></template><script>import logo from '@/assets/logo.png'import DynamicVideoItem from '@/components/DynamicVideoItem'import Comment from '@/components/Comment'import {onMounted, ref} from 'vue'import {useRouter} from 'vue-router'import request from '@/utils/request'import {GetCommentCount, GetStarNumByDynamicId, Star, UnStar} from '@/utils/Constant'import DynamicTextItem from '@/components/DynamicTextItem'export default {    name: 'DynamicItem',    components: {DynamicTextItem, Comment, DynamicVideoItem},    props: {        item: {            type: Object,        },        comment: {            type: Boolean,            default: false        },        click: {            type: Boolean,            default: true        },        showPage: {            type: Boolean,            default: false        }    },    setup(props) {        let showComment = ref(props.comment)        let router = useRouter()        let commentNum = ref(0)        let starNum = ref(0)        let isStar = ref(false)        function to(path) {            window.open(router.resolve(path).href, '_blank')        }        function init() {            request.get(`${GetCommentCount}/${props.item.dynamic.id}`).then(res => {                if (res.data.code === 0) {                    commentNum.value = res.data.data.commentNum                }            })            request.get(`${GetStarNumByDynamicId}/${props.item.dynamic.id}`).then(res => {                if (res.data.code === 0) {                    starNum.value = res.data.data.starNum                    isStar.value = res.data.data.isStar                }            })        }        onMounted(() => {            init()        })        function star() {            request.post(`${Star}`, {                dynamicId: props.item.dynamic.id,                isStaredUserId: props.item.dynamic.userId,            }).then(res => {                if (res.data.code === 0) {                    isStar.value = true                    starNum.value = starNum.value + 1                }            })        }        function unStar() {            request.post(`${UnStar}`, {                dynamicId: props.item.dynamic.id,            }).then(res => {                if (res.data.code === 0) {                    isStar.value = false                    starNum.value = starNum.value - 1                }            })        }        return {            logo,            showComment,            commentNum,            starNum,            isStar,            to,            star,            unStar,        }    },}</script><style scoped>.item {    width: 100%;    background-color: white;    border-radius: 4px;    display: flex;    flex-direction: column;    margin-bottom: 10px;}.user {    display: flex;    padding: 20px 20px 0 26px;}.avatar {    width: 48px;    height: 48px;    border-radius: 50%;    cursor: pointer;}.info {    margin-left: 10px;    cursor: pointer;    color: #f06d92;}.create-time {    font-size: 12px;    color: #99a2aa;    cursor: pointer;}.video {    padding: 0 12px 12px 88px;    width: 520px;}.describe {    padding-bottom: 10px;    width: 542px;}svg {    width: 14px;    height: 14px;}.video-num div {    display: flex;    justify-content: center;    align-items: center;    margin-right: 20px;}.video-num span {    margin-left: 4px;}.option div:hover svg path {    fill: #23aedb;}.option div:hover span {    color: #23aedb;}.option {    display: flex;    width: 542px;    margin-top: 14px;}.option div {    display: flex;    width: 100px;    cursor: pointer;}.option span {    font-size: 12px;    color: #999999;    margin-left: 4px;}.click {    cursor: pointer;}</style>